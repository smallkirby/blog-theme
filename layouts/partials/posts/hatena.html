<!-- Hatena Bookmark -->
{{ $title := .Title }} {{ $path := printf "%s" .RelPermalink }} {{ $url :=
printf "%s" .Permalink }} {{ $body := print $title ", by " .Site.Title "\n"
.Params.description "\n\n" $url "\n" }}

<div class="hatena">
  <div class="hatena-bookmark">
    <a
      href="https://b.hatena.ne.jp/entry/s/blog.smallkirby.com{{ $path }}"
      class="hatena-bookmark-button"
      data-hatena-bookmark-layout="basic-label-counter"
      data-hatena-bookmark-lang="en"
      title="このエントリーをはてなブックマークに追加"
      ><img
        src="https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png"
        alt="このエントリーをはてなブックマークに追加"
        width="20"
        height="20"
        style="border: none"
    /></a>
    <script
      type="text/javascript"
      src="https://b.st-hatena.com/js/bookmark_button.js"
      charset="utf-8"
      async="async"
    ></script>
  </div>
  <div class="hatena-star-area" id="hatena-star">
    {{ $hatenajs := resources.Get "js/components/hatena.js" }}
    <script src="{{ $hatenajs.Permalink }}"></script>
    <script>
      fetchHatenaStars('{{ $url }}');
    </script>
    <div>
      <img
        src="https://cdn.blog.st-hatena.com/images/theme/star/hatena-star-add-button.svg"
        alt="Add Hatena Star"
        onclick="addHatenaStar('{{ $url }}')"
      />
    </div>
    <div class="hatena-stars" id="hatena-stars"></div>
  </div>
</div>
